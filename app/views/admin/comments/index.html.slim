- today_i18n = l(@dashboard_presenter.today.to_date)
- dated_i18n = t('statistics.statistics_numbers.dated', date: today_i18n)

- content_for :page_title do
  = t('.title')

- content_for :page_actions do
  - unless comments_enabled?
    button.btn.btn-circle.btn-warning.btn-sm onclick="comments_disabled_help.showModal()"
      = lucide_icon 'triangle-alert', class: 'w-6'

    = render 'modal',
              id: :comments_disabled_help,
              modal_title: t('.comments_disabled'),
              modal_body: t('.comments_disabled_body_html')

section.mb-3.space-y-2
  - comment_deleted_count = Comment.flagged.count

  .stats.shadow.bg-base-200.mb-3.w-full.lg:w-auto
    .stat
      .stat-figure
        = lucide_icon 'message-square', class: 'w-12 h-12'
      .stat-title
        span.status.status-success.status-lg
        =< t('.comments_visibles')
      .stat-value= number_with_delimiter(Comment.available.count)
      .stat-desc= dated_i18n

    .stat
      .stat-figure
        = lucide_icon 'message-square', class: 'w-12 h-12'
      .stat-title
        span.status.status-error.status-lg
        =< t('.comments_reported')
      .stat-value= number_with_delimiter(comment_deleted_count)
      - if comment_deleted_count > 0
        .stat-actions.mt-1
          =< link_to t('display'), admin_comments_path(show_flagged: true), class: 'btn btn-error btn-xs'

#comments
  = render 'comments', comments: @comments, pagy: @pagy
